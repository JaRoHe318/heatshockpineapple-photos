/* =========================================
   1. DESIGN TOKENS (The DNA)
   ========================================= */
/* Import the core variables (Colors, Fonts, Spacing) */
@import "@heatshockpineapple/design-tokens/src/index.css";

/* =========================================
   2. THEME LOGIC (The "Brain")
   ========================================= */

/* --- LIGHT MODE (Default) --- */
:root {
  /* BACKGROUNDS: The "Archival" look */
  --bg-paper: #fdfbf7;        /* Warm Cream (Page Background) */
  --bg-surface: #ffffff;      /* Pure White (Cards/Panels) */
  
  /* TEXT: High contrast but not harsh */
  --text-main: #2c2c2c;       /* Soft Charcoal */
  --text-inverse: #ffffff;    /* Text on dark buttons/headers */
  --text-muted: rgba(0, 0, 0, 0.6);
  
  /* BORDERS */
  --border: rgba(0, 0, 0, 0.1);
  --border-strong: rgba(0, 0, 0, 0.2);

  /* BRANDING & ACCENTS */
  --category-photos: #2a9d8f;                  /* Teal */
  --category-journal: var(--color-heat-900);   /* Heat Red */
  --accent-primary: var(--color-heat-900);
  --accent-highlight: var(--brand-secondary);  /* Gold */
  
  /* UI MAPPINGS */
  --focus-ring: var(--category-photos);
  --radius: 8px; /* Standard border radius */
}

/* --- DARK MODE (The Override) --- */
/* This automatically activates when data-theme="dark" is present */
[data-theme="dark"] {
  /* BACKGROUNDS: The "Gallery" look */
  --bg-paper: #121212;        /* Deep Charcoal/Black */
  --bg-surface: #1e1e1e;      /* Lighter Charcoal (Cards) */
  
  /* TEXT */
  --text-main: #f5f5f5;       /* Off-White */
  --text-muted: rgba(255, 255, 255, 0.6);
  
  /* BORDERS */
  --border: rgba(255, 255, 255, 0.1);
  --border-strong: rgba(255, 255, 255, 0.2);
  
  /* BRANDING SHIFTS (Softer for dark screens) */
  --category-photos: #4db6ac;                  /* Lighter Teal */
  --accent-primary: var(--color-heat-400);     /* Dusty Pink instead of Red */
}

/* =========================================
   3. BASE RESET & PERFORMANCE
   ========================================= */
body {
  /* PERFORMANCE: Remove the complex microscope SVG */
  background-image: none !important;
  
  /* APPLY THEME: Uses the variable defined above */
  background-color: var(--bg-paper);
  color: var(--text-main);
  
  /* LAYOUT */
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-sans); /* Default font */
  
  /* SMOOTHNESS: Gentle fade when switching themes */
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* =========================================
   4. LAYOUT ARCHITECTURE
   ========================================= */
main {
  /* Width Control: Wider for photos, centered */
  max-width: 1600px;
  margin: 0 auto;
  padding: 1rem 2rem 4rem; /* Top padding clears the fixed header */
  position: relative;
  z-index: 2;
}

/* MASONRY GRID (For Gallery Pages) */
.photo-grid {
  column-count: 3;
  column-gap: 1.5rem;
  width: 100%;
}
.photo-grid > * {
  /* Prevents cards from splitting across columns */
  break-inside: avoid; 
  margin-bottom: 1.5rem;
}

/* Responsive Grid */
@media (max-width: 1024px) { .photo-grid { column-count: 2; } }

/* Targets the standard mobile phone breakpoint */
@media (max-width: 600px) {
    .photo-grid {
        /* This is the key override for the "3-at-a-time" stream on phones */
        column-count: 2 !important;
        
        /* Reduce the gap aggressively so three columns fit */
        column-gap: 0.25rem !important;
    }
}

/* Optional: Targets the tablet/mid-size view */
@media (min-width: 601px) and (max-width: 900px) {
    .photo-grid {
        /* Keep it at 2 columns for a slightly better tablet experience */
        column-count: 2 !important;
        column-gap: 1rem !important;
    }
}

/* =========================================
   5. UTILITIES & ACCESSIBILITY
   ========================================= */

/* THE GOLD UTILITY */
/* Used in Header/Footer to match branding */
.gold { 
  color: var(--color-gold-500) !important; 
}

/* ACCESSIBILITY: Focus Rings */
:focus-visible {
  outline: 2px solid var(--category-photos);
  outline-offset: 4px;
}

/* ACCESSIBILITY: Skip Link (Hidden until focused) */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--bg-surface);
  color: var(--text-main);
  padding: 8px 16px;
  z-index: 1000;
  transition: top 0.2s;
  font-family: var(--font-mono);
  font-size: 0.8rem;
  border: 1px solid var(--border);
}
.skip-link:focus { top: 0; }