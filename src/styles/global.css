/* =========================================
   1. DESIGN TOKENS (The DNA)
   ========================================= */
/* Import the Design System (which loads tokens + theme-base) */
@import "@heatshockpineapple/design-tokens/src/index.css";

/* =========================================
   2. THEME LOGIC (The "Brain")
   ========================================= */

/* --- DARK MODE (Default for this site) --- */
:root {
  /* BACKGROUNDS: Force the Dark Tokens from the Repo */
  --bg-paper: var(--color-paper-dark);
  --bg-surface: var(--color-surface-dark);
  
  /* TEXT */
  --text-main: #ffffff;                    /* Always White in Dark Mode */
  --text-inverse: #ffffff;                 /* Headers/Footers stay White */
  --text-muted: rgba(255, 255, 255, 0.7);
  
  /* BORDERS */
  --border: var(--border-dim-dark);
  --border-strong: rgba(255, 255, 255, 0.3);
  
  /* BRANDING & ACCENTS */
  --category-photos: #4db6ac;                 
  --category-journal: var(--color-heat-400);  /* Dusty Pink */
  --accent-primary: var(--color-heat-400);
  
  /* KODAK GOLD ACCENT */
  --accent-highlight: var(--color-gold-500); 
  --brand-secondary: var(--color-gold-500);
  
  /* UI MAPPINGS */
  --focus-ring: var(--category-photos);
  --radius: 8px;
}

/* --- LIGHT MODE (The Override) --- */
[data-theme="light"] {
  /* BACKGROUNDS: Swap to Warm/Light Tokens */
  --bg-paper: var(--color-paper-warm);
  --bg-surface: #ffffff;                      
  
  /* TEXT */
  --text-main: var(--color-jungle-800);    /* Brand Green for text */
  --text-inverse: #ffffff;                 /* Inverse stays White */
  --text-muted: rgba(0, 0, 0, 0.6);
  
  /* BORDERS */
  --border: var(--border-dim);
  --border-strong: rgba(0, 0, 0, 0.2);

  /* BRANDING SHIFTS */
  --category-photos: #2a9d8f;                  
  --category-journal: var(--color-heat-900);   /* Heat Red */
  --accent-primary: var(--color-heat-900);
}

/* =========================================
   3. BASE RESET & PERFORMANCE
   ========================================= */
body {
  /* Override any defaults from theme-base.css to ensure correct mapping */
  background-image: none !important;
  background-color: var(--bg-paper);
  color: var(--text-main);
  
  margin: 0;
  min-height: 100vh;
  /* Use the font stack from the design repo */
  font-family: var(--font-sans);
  
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* =========================================
   4. LAYOUT ARCHITECTURE
   ========================================= */
main {
  max-width: 1600px;
  margin: 0 auto;
  padding: 1rem 2rem 4rem;
  position: relative;
  z-index: 2;
}

/* MASONRY GRID */
.photo-grid {
  column-count: 3;
  column-gap: 1.5rem;
  width: 100%;
}
.photo-grid > * {
  break-inside: avoid; 
  margin-bottom: 1.5rem;
}

@media (max-width: 1024px) { .photo-grid { column-count: 2; } }

@media (max-width: 600px) {
    .photo-grid {
        column-count: 2 !important;
        column-gap: 0.25rem !important;
    }
}

@media (min-width: 601px) and (max-width: 900px) {
    .photo-grid {
        column-count: 2 !important;
        column-gap: 1rem !important;
    }
}

/* =========================================
   5. UTILITIES & ACCESSIBILITY
   ========================================= */

/* THE GOLD UTILITY */
.gold { 
  color: var(--color-gold-500) !important; 
}

/* ACCESSIBILITY: Focus Rings */
:focus-visible {
  outline: 2px solid var(--category-photos);
  outline-offset: 4px;
}

/* ACCESSIBILITY: Skip Link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--bg-surface);
  color: var(--text-main);
  padding: 8px 16px;
  z-index: 1000;
  transition: top 0.2s;
  font-family: var(--font-mono);
  font-size: 0.8rem;
  border: 1px solid var(--border);
}
.skip-link:focus { top: 0; }